<!DOCTYPE html>
<html lang="es">
{% load static %}
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil de Ajedrecista</title>
    <style>
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }

        .profile-container {
            margin-top: 20px; /* Espacio superior para el contenido del perfil */
        }

        .navbar-accesibilidad {
            position: absolute; /* Posición absoluta para moverlo */
            top: 10px; /* Espaciado desde la parte superior */
            right: 10px; /* Espaciado desde la derecha */
            z-index: 1000; /* Asegurarse de que esté encima de otros elementos */
        }

        .btn-accesibilidad {
            margin-right: 5px; /* Espaciado entre botones */
        }

        .card {
            margin-bottom: 20px;
        }

        .profile-header {
            background: url("{% static 'chessapp/images/fondo-perfil.jpg' %}") no-repeat center center;
            background-size: cover;
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 10px 10px 0 0;
        }

        .profile-header h1 {
            margin: 0;
        }

        .profile-header p {
            font-size: 1.2em;
        }

        .profile-details {
            padding: 20px;
            background-color: white;
            border-radius: 0 0 10px 10px;
        }

        .profile-details h2 {
            margin-top: 0;
        }

        .table {
            margin-top: 20px; /* Espacio superior para la tabla de partidas */
        }
    </style>
    <script>
        function cambiarTamanoFuente(accion) {
            const body = document.body;
            const currentSize = window.getComputedStyle(body).fontSize;
            const newSize = (accion === 'aumentar') 
                ? (parseFloat(currentSize) + 2) + 'px' 
                : (parseFloat(currentSize) - 2) + 'px';
            body.style.fontSize = newSize;
        }

        function toggleAltoContraste() {
            const body = document.body;
            body.classList.toggle('alto-contraste');
        }
    </script>
</head>
<body>
    <div class="navbar-accesibilidad">
        <button class="btn btn-secondary btn-accesibilidad" onclick="cambiarTamanoFuente('aumentar')">Aumentar Fuente</button>
        <button class="btn btn-secondary btn-accesibilidad" onclick="cambiarTamanoFuente('disminuir')">Disminuir Fuente</button>
        <button class="btn btn-secondary btn-accesibilidad" onclick="toggleAltoContraste()">♞ Alto Contraste</button>
        <a class="btn btn-secondary btn-accesibilidad" href="{% url 'menu' %}">☰ Menú</a>
    </div>

    <div class="container profile-container">
        <div class="card">
            <div class="profile-header">
                <h1>{{ usuario.username }}</h1>
                <p>Ranking: 1500</p> <!-- Cambiar esto según la lógica de tu aplicación -->
                <p>Partidas Jugadas: {{ partidas.count }}</p>
            </div>
            <div class="profile-details">
                <h2>Información del Perfil</h2>
                <p><strong>Email:</strong> {{ usuario.email }}</p>
                <p><strong>Fecha de Registro:</strong> {{ usuario.date_joined|date:"d/m/Y" }}</p>
                <p><strong>Última Partida:</strong> <!-- Aquí puedes agregar la lógica para mostrar la última partida --></p>
                <p><strong>Descripción:</strong> Apasionado del ajedrez, siempre buscando mejorar mis habilidades.</p>
                
                <!-- Sección de partidas jugadas -->
                <h2>Mis Partidas</h2>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Fecha</th>
                            <th>Resultado</th>
                            <th>Movimientos</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for partida in partidas %}
                        <tr>
                            <td>{{ partida.fecha }}</td>
                            <td>{{ partida.resultado }}</td>
                            <td>{{ partida.movimientos }}</td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="3">No has jugado ninguna partida todavía.</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>
</html>




